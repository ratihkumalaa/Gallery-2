"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[13704,18755,98234],{672485:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="4be444081491499e2b6e9d6768314918";let a=n},520578:(e,t,i)=>{var n,a,r;i.r(t),i.d(t,{default:()=>l});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"}],type:"Pin",abstractKey:null};s.hash="228ed96182ff017f2d866065cbecf7b9";let l=s},415244:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"},{args:null,kind:"FragmentSpread",name:"useAutoplayOrgVideoOnHover_pin"}],type:"Pin",abstractKey:null};n.hash="8e6a9272e57ad1033c4bf432c3adf854";let a=n},787761:(e,t,i)=>{var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};r.hash="72a606f26ad161609980c86fe071d95e";let s=r},313704:(e,t,i)=>{var n,a,r,s;i.r(t),i.d(t,{default:()=>o});let l=(s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[s],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[s,{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});l.hash="fd4413f593a148c9c1ca83ae9d3ab4e6";let o=l},981102:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoWithContextLogging_pin",selections:[{args:null,kind:"FragmentSpread",name:"VideoWrapper_pin"}],type:"Pin",abstractKey:null};n.hash="93ed23334d5bac81ac8410f05c4f2031";let a=n},974179:(e,t,i)=>{var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAutoplayOrgVideoOnHover_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:a,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="2942f85ec1d9274bd2a1e72a4b5cf008";let s=r},730490:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};n.hash="461a57fcc8f7958e3742c217e4cc45a2";let a=n},38370:(e,t,i)=>{var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="a3cbf6d55cf89d97d6e04c32195968d9";let r=a},55962:(e,t,i)=>{var n,a;i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};r.hash="6588018e2880f2695fc6c4ba45aab606";let s=r},883857:(e,t,i)=>{var n;i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:n,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};a.hash="b49953855cdc69f6ee2c8d4925149d23";let r=a},315376:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(240760);function a({altText:e,autoAltText:t,i18n:i}){let a=e?(0,n.nk)(i._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:e}).join(""):"",r=t?(0,n.nk)(i._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:t}).join(""):"";return a||r||""}},601143:(e,t,i)=>{i.d(t,{Z:()=>k}),i(167912);var n,a,r=i(616550),s=i(693967),l=i.n(s),o=i(883119),d=i(315376),u=i(717307),c=i(860575),p=i(261821),h=i(384609),g=i(144326),m=i(240760),y=i(945960),v=i(297728),_=i(561360),S=i(969119),T=i(470761),E=i(785893);function I(e){return!(e.imageSpec_474x?.width&&e.imageSpec_474x.height&&e.imageSpec_474x.width>e.imageSpec_474x.height)&&e.imageSpec_474x||e.imageSpec_736x}let b=void 0!==n?n:n=i(313704);function f({alt:e,fetchPriority:t,onError:i=()=>{},onLoad:n=()=>{},pinKey:a,_fixCompletedOnLoad:r}){let{checkExperiment:s}=(0,v.F)(),{anyEnabled:l}=s("ads_iad_dweb"),d=(0,h.Z)(b,a),{dominantColor:u,isDownstreamPromotion:c,promoter:p}=d,g=!!p&&!c,m=function(e){let t=e.storyPinData?.pages||[],i=(t[0]?.blocks||[])[0]||{};return"StoryPinVideoBlock"===i.__typename&&3===i.blockType}(d),{height:y,width:_,url:S}=function({pin:e,useVideoThumbnail:t}){return t?function(e){let t=e.storyPinData?.pages||[],i=t[0]?.blocks||[],n=i[0]?.__typename==="StoryPinVideoBlock"?i[0]?.video?.videoList?.vHLSV3MOBILE:null;return n?.thumbnail?{height:n?.height||0,width:n?.width||0,url:n.thumbnail||""}:I(e)}(e):I(e)}({pin:d,useVideoThumbnail:m&&(g&&l||!g)})??{};return(0,E.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:T.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,E.jsx)(o.Ee,{_fixCompletedOnLoad:r,alt:e,color:u||"transparent",fetchPriority:t,naturalHeight:y??1,naturalWidth:_??1,onError:i,onLoad:n,src:S||""})})}var P=i(827423),w=i(630075),x=i(865735),O=i(415787);let A=["ShoppingCarousel","ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid","VisualInspirationFocusPin","VisualInspirationPin","VisualInspirationShoppingPin"],R=void 0!==a?a:a=i(520578),L=({children:e,cropStoryPinImage:t,cropWidth:i,cropHeight:n})=>t?(0,E.jsx)(o.kC,{alignItems:"center",height:i?n:void 0,justifyContent:"start",width:i||void 0,children:e}):(0,E.jsx)(o.xu,{children:e}),k=({cropHeight:e,cropWidth:t,highResOnly:i,imageFit:n,onError:a,onLoad:s,pinKey:T,saved:I=!1,surface:b,ssrImpressionFixEnabled:k})=>{let C=(0,g.ZP)(),D=(0,c.Xx)(),{isInGridLoadingStateExp:F}=(0,u.Z)(),N=(0,P.C)((0,r.TH)()),V=(0,h.Z)(R,T),{checkExperiment:M}=(0,v.F)(),{altText:G,autoAltText:j,carouselData:H,description:U="",dominantColor:K,gridTitle:B,isThirdPartyAd:Z,title:W,videos:$}=V,z=(0,m.nk)(C._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:W||B}).join(""),Y="",Q,q=0,J=0;if(V.imageSpec_736x||V.imageSpec_orig||V.imageSpec_474x||V.imageSpec_236x){let e=V.imageSpec_236x;if(i)e=V.imageSpec_736x||V.imageSpec_orig||V.imageSpec_474x||V.imageSpec_236x;else{let{thumbnail:t,height:i,width:n}=$?.videoList?.vHLSV4||{};e=t?{url:t,height:i??1,width:n??1}:e}q=e?.height,J=e?.width,Y=e?.url,Q=i?e?.url?`${e.url} 1x`:"":[V.imageSpec_236x?.url&&`${V.imageSpec_236x.url} 1x`,V.imageSpec_474x?.url&&`${V.imageSpec_474x.url} 2x`,V.imageSpec_736x?.url&&`${V.imageSpec_736x.url} 3x`,V.imageSpec_orig?.url&&`${V.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}D?.image&&(q=D.image.height,J=D.image.width,Y=D.image.url);let X=M("preload_grid_images",{dangerouslySkipActivation:!0}).anyEnabled,ee=e=>{let t=new Image;t.src=e;let{complete:i}=t;return t.src="",i},et=["originals","736x","474x","236x"],ei=new RegExp(/\/(\d+x|originals)\//),en=e=>{let t=e.match(ei),i=t?t[1]:null,n=(0,_.Z)("resource").filter(e=>"link"===e.initiatorType&&e.name.includes("i.pinimg.com")),a=new Set;return et.forEach(t=>{let i=e.replace(ei,`/${t}/`);n.filter(e=>e.name===i).length>0&&a.add(t)}),a.size>0&&!!i&&!a.has(i)||a.size>1},ea=(e,t)=>{let i=Math.round(Number(window.devicePixelRatio)),n="";i&&(n=2===i?"474x":3===i?"736x":4===i?"orig":"236x");let a=e.replace(ei,`/${n}/`),r=en(e);ee(a)?(0,O.nP)(`web.${t}.cached_grid_image.found`,{tags:{resolution:n,isPreloadGridImagesEnabled:X,areMultipleResolutionsLoaded:r}}):(0,O.nP)(`web.${t}.cached_grid_image.not_found`,{tags:{resolution:n,isPreloadGridImagesEnabled:X,areMultipleResolutionsLoaded:r}})};(0,S.Z)(()=>{if(Y?.startsWith("https://i.pinimg.com/")&&b){let e="";b.includes("Search")?e="search":b.includes("AuthHomefeed")&&(e="auth_homefeed"),e&&ea(Y,e)}});let er=(0,d.Z)({altText:G,autoAltText:j,i18n:C})||!!U?.trim().length&&U||z;if(H)return(0,E.jsx)(w.Z,{_fixCompletedOnLoad:k,highResOnly:i,isThirdPartyAd:Z,onError:a,onLoad:s,pinKey:V});let es=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(b)?void 0:y.Ml,el=(0,x.Z)(b);return(0,E.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:es,children:(0,E.jsx)(o.xu,{flex:"grow",children:(0,E.jsx)("div",{className:l()({savedGradient:I}),children:V.storyPinDataId?(0,E.jsx)(L,{cropHeight:e,cropStoryPinImage:!!t&&A.includes(b),cropWidth:t,children:(0,E.jsx)(f,{_fixCompletedOnLoad:k,alt:er,fetchPriority:F&&N?"low":void 0,onError:a,onLoad:s,pinKey:V})}):(0,E.jsx)(o.xu,{"data-test-id":"non-story-pin-image",height:t?e:void 0,width:t||void 0,children:(0,E.jsx)(p.Z,{_fixCompletedOnLoad:k,alt:er,color:"dominant"===el?K??"":el,crossOrigin:Z?"anonymous":void 0,fetchPriority:F&&N?"low":void 0,fit:n,naturalHeight:q??1,naturalWidth:J??1,onError:a,onLoad:s,src:Y??"",srcSet:Q})})})})})}},98234:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var n,a,r,s=i(667294);i(167912);var l=i(883119),o=i(601143),d=i(384609),u=i(891985),c=i(830017),p=i(414373),h=i(628200),g=i(464311),m=i(144326),y=i(785893);let v={__style:{backgroundColor:"#000"}};function _({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:n,pinId:a}){let r=(0,m.ZP)();return(0,y.jsxs)(l.Ee,{alt:r._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:i,src:e,children:[(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:v,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,y.jsxs)(l.xu,{"data-test-id":`video-end-card-${a}`,direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,y.jsx)(l.iP,{rounding:2,children:(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(l.JO,{accessibilityLabel:r._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:{__path:h.Z},size:25}),(0,y.jsx)(l.xu,{margin:1}),(0,y.jsx)(l.xv,{color:"light",lineClamp:1,weight:"bold",children:r._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,y.jsx)(l.xu,{margin:3}),(0,y.jsx)(l.iP,{onTap:n,rounding:2,children:(0,y.jsxs)(l.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(l.JO,{accessibilityLabel:r._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:{__path:g.Z},size:25}),(0,y.jsx)(l.xu,{margin:1}),(0,y.jsx)(l.xv,{color:"light",lineClamp:1,weight:"bold",children:r._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function S({aspectRatio:e,children:t}){return(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:t})}var T=i(966875);let E=new Set(["ConversationView","TodayTabFeed"]),I=void 0!==n?n:n=i(787761);function b({isAutoplay:e,cropHeight:t,currentTime:i,highResOnly:n,onLoad:a,onError:r,saved:h,onTimeChange:g,isExperimentalPinRep:m,pinKey:v,surface:b,playing:f,rootMargin:P,viewType:w,viewParameter:x,cropWidth:O,video:A}){let R;let[L,k]=(0,s.useState)(!1),[C,D]=(0,s.useState)(!f),F=(0,d.Z)(I,v),{isDownstreamPromotion:N,promoter:V}=F,M=(0,u.jL)(!!N,!!V),G=M&&!F.isEligibleForWebCloseup,j=m&&M&&F.isEligibleForWebCloseup&&!E.has(b),{setCurrentVideo:H}=(0,c.I)();e&&f&&C&&D(!1);let{url:U}=F.imageSpec_236x??{},{entityId:K,isPromoted:B}=F,Z=(0,s.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),H({pinId:K,isPromoted:!!B,currentTime:0}),k(!1)},[B,K,H]),W=(0,s.useCallback)(()=>{B&&k(j)},[j,B]),$=A??F.videos?.videoList?.vHLSV4;if(!$)return null;let{height:z,thumbnail:Y,width:Q,url:q}=$,J=A?.entityId??F.videos?.entityId??"",X=(Q??1)/(z??1),ee=b&&(0,p.Z)(b)&&"UserProfilePinGrid"!==b;if(ee&&(X=1,R="transparent"),L&&M)return(0,y.jsx)(l.xu,{children:(0,y.jsx)(_,{backgroundImage:U??"",naturalHeight:z??1,naturalWidth:Q??1,onRestartVideo:Z,pinId:K})});let et={highResOnly:n,onError:r,onLoad:a,pinKey:F,saved:h};ee&&(et={...et,cropHeight:t,cropWidth:O,imageFit:"contain"});let ei=(0,y.jsx)(l.xu,{"data-test-id":"pinrep-video--placeholder","data-test-image-signature":U,children:(0,y.jsx)(S,{aspectRatio:X,children:(0,y.jsx)(o.Z,{...et,ssrImpressionFixEnabled:!1,surface:b})})});return C?ei:(0,y.jsx)(l.xu,{children:(0,y.jsx)(T.ZP,{aspectRatio:X,backgroundColor:R,captions:"",contextLogData:{viewParameter:x,component:0,objectId:K,video_id:J,view:w},fallback:ei,hlsConfig:{capLevelToPlayerSize:!0,startPosition:i||-1},isAutoPlay:!!e,loop:G||!m||!M,onEnded:W,onPlay:()=>{},onPlayError:()=>{},onTimeChange:g,playing:f,poster:U||Y||void 0,rootMargin:P,src:[{type:"video/m3u8",src:q}]??[],surface:b,videoStartTime:i,volume:0})})}var f=i(159574),P=i(439839),w=i(819239);let x=void 0!==a?a:a=i(974179);function O(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let A=void 0!==r?r:r=i(415244);class R extends s.Component{constructor(...e){super(...e),O(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{entityId:n}=t,a=(0,P.Z)(n,i);return this.currentVideoCurrentTime||a||e}),O(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:t,pin:i,setCurrentVideo:n,pauseAutoplay:a,videosAutoplaying:r}=this.props,{entityId:s,isPromoted:l}=i,o=(0,w.Z)(s,r),d=function(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};for(let t in a){let{paused:i}=a[t];if(t!==e&&!i)return!1}return!0}(s,r);e?l?n({pinId:s,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:s,isPromoted:!!l,currentTime:this.calculateCurrentVideoTime()}):!e&&o&&a({pinId:s,isPromoted:!!l,currentTime:t||this.currentVideoCurrentTime})}),O(this,"handleVideoTimeChange",e=>{let{pin:t,onTimeChange:i,videosAutoplaying:n}=this.props,{entityId:a}=t;(0,w.Z)(a,n)&&(this.currentVideoCurrentTime=e.time),i&&i(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:n,pauseAutoplay:a,pin:r,setCurrentVideo:s,videosAutoplaying:l}=this.props,{entityId:o,isPromoted:d}=r,u=(0,w.Z)(o,l);i!==t&&!i&&u?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:o,isPromoted:!!d,currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:o,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:n}=this.props,{entityId:a,isPromoted:r}=i;(0,w.Z)(a,n)&&t({pinId:a,isPromoted:!!r,currentTime:e||this.currentVideoCurrentTime})}render(){let{cropHeight:e,isAutoplay:t,pin:i,surface:n,videosAutoplaying:a,viewParameter:r,viewType:s,highResOnly:l,onError:o,onLoad:d,saved:u,isExperimentalPinRep:c,rootMargin:p,cropWidth:h,video:g}=this.props,{entityId:m}=i,v=(0,P.Z)(m,a),_=(0,w.Z)(m,a),S={cropHeight:e,rootMargin:p,currentTime:v,isAutoplay:t,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:i,surface:n,playing:_&&t,trackFullVisible:!1,highResOnly:l,onError:o,onLoad:d,saved:u,isExperimentalPinRep:c,cropWidth:h,...g?{video:g}:{}};return(0,y.jsx)(f.Z,{onVisibilityChanged:this.handleVisibilityChanged,rootMargin:p,trackFullVisible:S.trackFullVisible,children:(0,y.jsx)(b,{...S})})}}function L({pinKey:e,isHovering:t=!1,...i}){let{appUI:{appInFocus:n,isAutoplay:a,videosAutoplaying:r},pauseAutoplay:l,setCurrentVideo:o}=(0,c.I)(),u=(0,d.Z)(A,e),p=(0,s.useRef)(t);return!function({pinKey:e,isHovering:t,hoverState:i}){let n=(0,d.Z)(x,e),{setCurrentVideo:a,pauseAutoplay:r,appUI:{videosAutoplaying:l}}=(0,c.I)(),o=n?.videos?.videoList?.v720P||n?.videos?.videoList?.vHLSV4||n?.videos?.videoList?.vHLSV3MOBILE;(0,s.useEffect)(()=>{if(n){if(i.current!==t){let{entityId:e,isPromoted:i,storyPinData:s}=n,d=(0,P.Z)(e,l);if(o||s?.totalVideoDuration){if(t){let t=function(e,t){let{currentlyPlayingOrganicVideoId:i,organicVideosAutoplaying:n}=t;return i&&i!==e?i:Object.keys(n).find(e=>!1===n[e].paused)}(e,l);t&&r({currentTime:d,pinId:t,isPromoted:!1}),a({currentTime:d,pinId:e,isPromoted:!!i})}else i||r({currentTime:d,pinId:e,isPromoted:!!i})}}i.current=t}},[t,i,r,n,a,o,l])}({pinKey:u,isHovering:t,hoverState:p}),(0,y.jsx)(R,{...i,appInFocus:n,isAutoplay:a,pauseAutoplay:l,pin:u,setCurrentVideo:o,videosAutoplaying:r})}},279341:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294),a=i(883119),r=i(848823);let s=e=>`
  ::view-transition-group(${e}) {
    animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
  }
`,l=({type:e,viewTransitionName:t})=>"image"===e?s(t):"video"===e?`
      ${s(t)}
      ::view-transition-old([view-transition-name="${t}"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="${t}"]) {
        animation: none;
      }
    `:"";var o=i(512541),d=i(785893);let u=({_enableViewTransitions:e,borderStyle:t,children:i,id:s,imageFit:u,suppressViewTransitionTags:c=!1,type:p})=>{let{inViewTransitionsExp:h,viewTransitionName:g}=(0,r.Z)({_enableViewTransitions:e,id:s,type:p}),[m,y]=(0,n.useState)(!1),v=(e||h)&&!!g&&!c&&(e||m),_="image"===p&&["contain","cover"].includes(u||"")?"100%":"inherit";return(0,d.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{...t,...v?{viewTransitionName:g,contain:"layout"}:{}}},height:_,onMouseLeave:()=>y(!1),onMouseOver:()=>y(!0),width:_,children:[(0,d.jsx)(o.Z,{unsafeCSS:l({type:p,viewTransitionName:g})}),i]})}},848823:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),a=i(973935),r=i(297728);let s=function({_enableViewTransitions:e=!1,id:t,type:i}){let{checkExperiment:s}=(0,r.F)(),l=s("dweb_view_transitions").anyEnabled;return{executeWithViewTransition:(0,n.useCallback)(t=>{document.startViewTransition&&(e||l)?document.startViewTransition(()=>{(0,a.flushSync)(t)}):t()},[e,l]),inViewTransitionsExp:l,viewTransitionName:i&&t?`pin-${i}-${t}`:""}}},717307:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(297728),a=i(2968),r=i(730212),s=i(410150);function l({dangerouslySkipActivation:e=!1}={}){let t;let{isAuthenticated:i}=(0,r.B)(),o=(0,s.HG)(),{checkExperiment:d}=(0,n.F)();return i&&o&&(t=d("dweb_grid_loading_state",{dangerouslySkipActivation:e}).group),{isInGridLoadingStateExp:(0,a.Z)(t??""),isInGridLoadingStateDefaultExp:"enabled"===t,isInGridInfiniteScrollExp:"enabled_infinite_scroll"===t||"employees"===t,gridLoadingStateGroup:t}}},860575:(e,t,i)=>{i.d(t,{Xx:()=>r});var n=i(667294);i(785893),(0,n.createContext)(void 0),i(573706);let a=(0,n.createContext)(void 0),r=()=>(0,n.useContext)(a)},945960:(e,t,i)=>{i.d(t,{Dv:()=>s,Kn:()=>a,Ml:()=>l,Oc:()=>n,mv:()=>r});let n=16,a=`${n}px ${n}px 0 0`,r=4,s={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},l=120},431705:(e,t,i)=>{i.d(t,{$N:()=>m,Cu:()=>v,GY:()=>c,MZ:()=>o,NR:()=>p,S9:()=>l,bC:()=>y,fm:()=>n,id:()=>r,kM:()=>s,q6:()=>a,qp:()=>u,uV:()=>h,ug:()=>g,xL:()=>d});let n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={INTEREST:"INTEREST",DEVICE:"DEVICE",LANGUAGE:"LANGUAGE",LOCATION:"LOCATION",LOCATION_COUNTRY:"LOCATION_COUNTRY",LOCATION_METRO:"LOCATION_METRO",LOCATION_REGION:"LOCATION_REGION",AUDIENCE:"AUDIENCE",TARGETING_TEMPLATE:"TARGETING_TEMPLATE",CONVERSION_TAG:"CONVERSION_TAG"},s={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},l={CREATE:"CREATE",VIEW_RESULTS:"VIEW_RESULTS",VIEW_REPORT:"VIEW_REPORT"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud",PINTEREST_CAPI_CONNECT:"Pinterest CAPI Connect"},d={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},u={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},p={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},h="604800",g="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},y="click",v="view"},829196:(e,t,i)=>{i.d(t,{YS:()=>l,eF:()=>o,m_:()=>s});var n=i(431705),a=i(194093),r=i(415787);function s(e,t,i,a,s){let l=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);l.append(n.NR.SOURCE_EVENT_ID,e??"0"),l.append(n.NR.DESTINATION,JSON.stringify([...o])),l.append(n.NR.EXPIRY,i?n.uV:n.ug),l.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),s&&l.append(n.NR.ADVERTISER_ID,s),a&&l.append(n.NR.CAMPAIGN_ID,a),l.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}async function l(e,t,i,n,l,o,d,u,c){let p;let{appType:h,osType:g}=o||{},m="",y="";if(["Pin","pinImpressions"].includes(e)&&t&&(n||u||c)){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:g}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:g}});return}m=s(i,[n,u,c],!1,l,d);try{y=new URL(window.location.href).hostname}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(y&&"www.pinterest.com"!==y)document.createElement("img").setAttribute("attributionsrc",m),(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:h,osType:g,hostname:y}});else if(!(p=await window.fetch(m,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:g}})}catch(e){(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,a.Z)(e,"name"),message:(0,a.Z)(e,"message"),appType:h,osType:g,hostname:y,responseStatus:p&&p.status}})}}else(0,r.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:g}})}function o(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},118755:(e,t,i)=>{i.d(t,{G6:()=>r,i7:()=>s,oi:()=>n,u$:()=>a,un:()=>o,vU:()=>l,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function r(e){return a(e)===n.SAFARI}function s(e){return a(e)===n.CHROME}function l(e){return a(e)===n.FIREFOX}function o(e){return a(e)===n.EDGE}function d(e){return a(e)===n.IE}},129666:(e,t,i)=>{i.d(t,{P:()=>y,Z:()=>m}),i(167912);var n,a,r,s,l=i(384609);let o=void 0!==n?n:n=i(38370),d=void 0!==a?a:a=i(883857);var u=i(529521),c=i(415787);let p=void 0!==r?r:r=i(55962),h=!1,g=void 0!==s?s:s=i(730490);function m(e){let t=(0,l.Z)(g,e),i=function(e){let t=(0,l.Z)(o,e);return t?.carouselData?{index:t.carouselData.index,carouselId:t.carouselData.entityId,carouselSlots:t.carouselData.carouselSlots?.map(e=>({details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}))??[]}:null}(t),n=function({pinKey:e,index:t}){let i=(0,l.Z)(p,e),n=(i?.richMetadata||i?.richSummary)?.products?.[0]||null,a=(i?.richMetadata?.products?.length??0)+(i?.richSummary?.products?.length??0);if(null!=e&&a>1&&!h){h=!0;let t=(0,u.o)(e);(0,c.nP)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:a,isGraphQL:"GraphQL"===t}})}let r=function(e){let t=(0,l.Z)(d,e);if(!t)return[];let i={},{image236x:n,image474x:a,image564x:r,image736x:s}=t;return[[n,"236x"],[a,"474x"],[r,"564x"],[s,"736x"]].forEach(([e,t])=>{(Array.isArray(e)?e:[]).forEach(({canonicalImage:e,imageSignature:n})=>{n&&e&&(i={...i,[n]:{...i[n],[t]:{height:e.height,url:e.url,width:e.width}}})})}),Object.entries(i).map(([e,t])=>({imageSignature:e,imageSizeMap:t}))}(n);return n&&r.length?{carouselId:n.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":i?.image236x&&{height:i.image236x.height,url:i.image236x.url,width:i.image236x.width},"474x":i?.image474x&&{height:i.image474x.height,url:i.image474x.url,width:i.image474x.width},"564x":i?.image564x&&{height:i.image564x.height,url:i.image564x.url,width:i.image564x.width},"736x":i?.image736x&&{height:i.image736x.height,url:i.image736x.url,width:i.image736x.width}}},...r],index:t}:null}({pinKey:t,index:i?.index});return n?{...n,carouselSlots:n.carouselSlots.map(e=>({...e,details:null,slotId:null,title:null}))}:i}function y({children:e,pinKey:t}){return e(m(t))}},605388:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return function e(t,i){let n;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let a=i.find(e=>e.value===t);if(a)return a.result;let r=Object.prototype.toString.call(t);switch(r){case"[object Array]":n=Array(t.length);break;case"[object Set]":n=new Set;break;case"[object Object]":case"[object Arguments]":n={};break;case"[object Map]":n=new Map;break;default:return t}let s=[...i,{value:t,result:n}];switch(r){case"[object Array]":t.forEach((t,i)=>{n[i]=e(t,s)});break;case"[object Set]":t.forEach(t=>{n.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,i])=>{n[t]=e(i,s)});break;case"[object Map]":t.forEach((t,i)=>{n.set(i,e(t,s))})}return n}(e,[])}},628200:(e,t,i)=>{i.d(t,{Z:()=>n});let n="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},464311:(e,t,i)=>{i.d(t,{Z:()=>n});let n="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},261821:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),a=i(883119),r=i(279341),s=i(410150),l=i(227595),o=i(785893);function d(e){(0,n.useContext)(l.Z),(0,s.ZP)();let{alt:t,borderStyle:i,color:d,children:u,crossOrigin:c,decoding:p,elementTiming:h,fetchPriority:g,fit:m,loading:y,naturalHeight:v,naturalWidth:_,onError:S,onLoad:T,id:E,role:I,sizes:b,src:f,srcSet:P,suppressViewTransitionTags:w,_enableViewTransitions:x,_fixCompletedOnLoad:O}=e;return(0,o.jsx)(r.Z,{_enableViewTransitions:x,borderStyle:i,id:E,imageFit:m,suppressViewTransitionTags:w,type:"image",children:(0,o.jsx)(a.Ee,{_fixCompletedOnLoad:O,alt:t,color:d,crossOrigin:c,decoding:p,elementTiming:h,fetchPriority:g,fit:m,loading:y,naturalHeight:v,naturalWidth:_,onError:S,onLoad:T,role:I,sizes:b,src:f,srcSet:P,children:u})})}},39260:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(297728),a=i(730212),r=i(855746);function s(e){let{isAuthenticated:t}=(0,a.B)(),{expName:i,anyEnabled:s,group:l}=function({experimentsClient:e,handlerId:t,isAuthenticated:i,skipActivation:n}){let{checkExperiment:a}=e,r=a(i?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return r.group?{expName:i?"web_masonry_v2_auth":"web_masonry_v2_unauth",...r}:"www/[username]/[slug].js"!==t||i?"www/pin/[id].js"!==t||i?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...a("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...a("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,r.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:s,group:l,isMeasureAllEnabled:"enabled_measure_all"===l||"enabled_measure_all_impression_fix"===l,isImpressionFixEnabled:"control_impression_fix"===l||"enabled_impression_fix"===l||"enabled_measure_all_impression_fix"===l}}},788388:(e,t,i)=>{i.d(t,{F:()=>v,Z:()=>y});var n=i(667294),a=i(829196),r=i(118755),s=i(573706),l=i(39260),o=i(635284),d=i(730212),u=i(410150),c=i(644797),p=i(243583),h=i(415787),g=i(855746);let m={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function y({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:y,contextLogData:v,clientTrackingParams:_,duploShouldTrackPinEvents:S,elementType:T,impressionAuxFields:E,inImpressionExp:I,impressionType:b,impressionsFramework:f,isPaused:P,loggingId:w,objectIdStr:x,slotIndex:O,trackCarousel:A,viewData:R,viewParameter:L,viewType:k,isPromoted:C,storyPinProductEventData:D}){let{logContextEvent:F}=(0,s.v)(),{logMrcVideoAdEventOnPlay:N}=(0,c.r)(),{userAgent:{browserName:V}}=(0,d.B)(),{logStat:M}=(0,p.Yg)(),G=f||o.Z,j=(0,n.useRef)(null),H=n=>{let s=m[b],l=s.idType,o={clientTrackingParams:_,endTime:n.endTime,[l]:w,slotIndex:O,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,...E,forcedExit:"removed"===n.forcedExit?0:void 0};if("Pin"===b){let e=[],t=n.visibleEvents||new Map,i=n.hiddenEvents||new Map;if([1,50,80,2].forEach(n=>{t.has(n)&&e.push({type:n,time:1e6*(t.get(n)||0),visible:!0}),i.has(n)&&e.push({type:n,time:1e6*(i.get(n)||0),visible:!1})}),o={...o,pinCellWidth:n.pinCellWidth||0,pinCellHeight:n.pinCellHeight||0,windowWidth:window?.innerWidth,windowHeight:window?.innerHeight,visibleEvents:e.sort((e,t)=>e.time-t.time)},(0,r.i7)(V)&&E&&E.isPromoted){let{attributionSourceId:e,isPromoted:t,link:i,campaignId:n,araAuxData:r,advertiserId:s,domain:l,adDestinationUrl:o}=E;(0,a.YS)(b,t??null,e??null,i??null,n??null,r??null,s??null,l??null,o??null)}}let d={component:y,object_id_str:x,view_type:k,view_data:R||{},view_parameter:L};if(A)e&&A&&F({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...o,..."canonical"===e.type?{carouselDataId:Number(e.carouselId??0),slotIndex:e.index,carouselSlotId:e.carouselSlots?.[e.index??0]&&Number(e.carouselSlots[e.index??0].slotId)}:{carouselDataId:Number(e.id??0),carouselSlotId:e.carousel_slots?.[e.index??0]&&Number(e.carousel_slots[e.index??0].id),slotIndex:e.index}}]},...d,aux_data:{...v}});else{let e={clientTrackingParams:_,event_type:s.eventType,...d,element:T,event_data:{[s.impressionType]:"Story"===b?o:[o],...D?{storyPinProductEventData:D}:{}},aux_data:{closeup_navigation_type:i,...v}};F(e),N(e)}S&&M("log_pin_impression")},{expName:U,group:K}=(0,l.Z)({skipActivation:!0}),B=(0,u.ZP)(),Z=(0,g.MM)(),{isAuthenticated:W}=(0,d.B)(),$=(0,n.useCallback)(()=>{let e=!1;try{let{current:t}=j;if(t instanceof HTMLElement&&(!C||t.getElementsByTagName("img").length>0)){let i=G.start(t);i.onExitViewport(H).setDebugId(w||"unknown"),S&&i.onEnterViewport(()=>{M("log_pin_impression_track_enter_viewport")}),e=!0,K&&(0,h.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:B,experimentName:U,group:K,handlerId:Z,isAuthenticated:W,slotIndex:O??"unknown"}})}}catch{window.console.error('Can only track impressions for type "HTMLElement"')}S&&M("log_pin_impression_track",{didStartTracking:e})},[j.current]);return(0,n.useEffect)(()=>(I&&!G.inExperiment&&G.setExperimentStatus(!0),P||$(),()=>{let{current:e}=j;e instanceof HTMLElement&&(!C||e.getElementsByTagName("img").length>0)&&G.stop(e)}),[P,$]),j}let v=({children:e,...t})=>e({impressionTrackerRef:y(t)})},774980:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>c,LU:()=>p,ZP:()=>h});let a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},s={},l={background:"#FF8A8A",transform:"scale(.98)"},o={init:e=>({transform:`scale(${s[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();e.intersectionRatio>0&&!this.visibleEvents.has(1)&&this.visibleEvents.set(1,i),e.intersectionRatio>.5?this.visibleEvents.has(50)||this.visibleEvents.set(50,i):this.visibleEvents.has(50)&&!this.hiddenEvents.has(50)&&this.hiddenEvents.set(50,i),e.intersectionRatio>.8?this.visibleEvents.has(80)||this.visibleEvents.set(80,i):this.visibleEvents.has(80)&&!this.hiddenEvents.has(80)&&this.hiddenEvents.set(80,i),1!==e.intersectionRatio||this.visibleEvents.has(2)||this.visibleEvents.set(2,i),e.boundingClientRect.top<=143&&this.visibleEvents.has(1)&&!this.hiddenEvents.has(1)&&this.hiddenEvents.set(1,i),e.boundingClientRect.bottom<=143&&this.visibleEvents.has(2)&&!this.hiddenEvents.has(2)&&this.hiddenEvents.set(2,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(r.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map,this.pinCellWidth=0,this.pinCellHeight=0}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,a&&Object.assign(this.node.style,o.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(a)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),o[e]&&Object.assign(this.node.style,o[e]),e){case r.flushed:case r.paused:case r.exit:s[this.debugId]=!0}}}function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let c=!0,p=!1;class h{constructor(){u(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),u(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);return t||(t=new d(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer.observe(e),t.setMutationObserver(new window.MutationObserver((e,t)=>this._handleMutations(e,t))),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),t}pause(e=c){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority!==p||(this.pausePriority=e))}resume(e=c){(e!==p||this.pausePriority!==c)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},635284:(e,t,i)=>{i.d(t,{Z:()=>n});let n=new(i(774980)).ZP},240760:(e,t,i)=>{function n(e,t,i){return e.split(i).map(e=>{if(e.match(i)){let i=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,i))return t[i]}return e})}i.d(t,{Wc:()=>l,XB:()=>s,bF:()=>d,nk:()=>r});let a=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return n(e,t,a)}function s({text:e,markers:t,jsxReplacements:i}){let a=["strong","a","em","span"],r=/(\{\{\s*\w+\s*\}\})/g,s=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,l=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,o=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,d=e.match(s)?.map(e=>{let a=e.match(l),s=(a&&a[2])??0,d=e.match(o),u=(d&&d[2])??"",c=t?n(u,t,r):[u];return s&&i&&i[s]?.({innerHtmlStrings:c})});return e.split(s)?.map(e=>a.some(t=>e===t)?d?.shift():t?n(e,t,r):e)}function l(e,t){return n(e,t,a).join("")}let o=/(\{\s*\w+\s*\})/g;function d(e,t){return n(e,t,o)}},766546:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),a(this,"ref",(0,n.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let s=r},983272:(e,t,i)=>{function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});let a=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},r=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let s=a},891985:(e,t,i)=>{i.d(t,{NK:()=>y,P6:()=>r,ZE:()=>g,Zt:()=>m,_J:()=>o,_S:()=>v,cL:()=>p,jL:()=>l,oN:()=>a,rM:()=>h,sV:()=>d,sY:()=>u});var n=i(673687);let a=5e3,r=5e3/n.gJ,s=["Uploaded by user"],l=(e,t)=>!!t&&!e,o=e=>!!e&&5!==e,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,c=e=>"pinstory"===e,p=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!c(t),h=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,g=e=>/pin.it/gim.test(e||""),m=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function v(e){for(let t of s)if(e===t)return!1;return!0}},2968:(e,t,i)=>{i.d(t,{Z:()=>n});let n=e=>e.startsWith("enabled")||e.startsWith("employee")},561360:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}},969119:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);let a=e=>{(0,n.useEffect)(e,[])}},159574:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),a=i(291716),r=i(785893);function s({onVisibilityChanged:e,children:t,...i}){let s=(0,a.Z)({onVisibilityChanged:e,...i});return(0,r.jsx)(n.xu,{ref:s,children:t})}},291716:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(667294);let a=new Map,r=null,s=e=>{e.forEach(e=>{let t=a.get(e.target);t&&t(e)})},l=e=>{r.unobserve(e),a.delete(e)},o=(e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};r=r||new window.IntersectionObserver(s,n),a.set(e,i),r.observe(e)},d=e=>a.has(e);function u({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let r=(0,n.useRef)(null),s=!1,u=t=>{(s=t.intersectionRatio>0||t.isIntersecting)&&e(!0)},c=()=>{r.current instanceof HTMLElement&&d(r.current)&&s&&(e(!1),s=!1)},p=(0,n.useCallback)(e=>{r.current instanceof HTMLElement&&o(r.current,e,e=>{if(!a.has(r.current))return;let i=t?e.intersectionRatio>=1:e.intersectionRatio>=.5,n=t?0===e.intersectionRatio:!i;!s&&i?u(e):s&&n&&c()})},[r.current]);return(0,n.useEffect)(()=>(p(i),()=>{r.current instanceof HTMLElement&&(c(),l(r.current))}),[p]),r}},644797:(e,t,i)=>{i.d(t,{W:()=>u,r:()=>d});var n=i(667294),a=i(573706),r=i(498490),s=i(297728),l=i(785893);let{Provider:o,useHook:d}=(0,r.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,a.v)(),{checkExperiment:r}=(0,s.F)(),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[m,y]=(0,n.useState)({}),v=r("web_ads_mrc_video_impression").anyEnabled,_=e=>{y(t=>({...t,[e]:!0}))},S=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");v&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[v]),T=(0,n.useCallback)(e=>{18===e.eventType&&v&&g(t=>[...t,e].slice(-1e3))},[v]),E=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},I=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!v||(t(E(e)),!1)});e.length!==c.length&&p(e)},[c,v,t,m]),(0,n.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&v){let t=I(e);return t&&i(t),!1}return!0});e.length!==h.length&&g(e)},[h,v,i,m]);let b=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:T,logMrcVideoAdEventOnPlay:S,setCaptionsEnabled:u,setVideoPlayed:_,videosPlayed:m}),[d,S,T,m]);return(0,l.jsx)(o,{value:b,children:e})}},439839:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return a[e]&&a[e].currentTime}},819239:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t){let{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,a={...i,...n};return!!a[e]&&!a[e].paused}},673687:(e,t,i)=>{i.d(t,{$f:()=>a,Cy:()=>o,DR:()=>n,Fm:()=>l,bR:()=>s,gJ:()=>r,lG:()=>d});let n=1,a=2,r=1e3,s=1e3,l=1e3,o=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},707676:(e,t,i)=>{i.d(t,{Z$:()=>s,by:()=>l,eL:()=>r});var n=i(717067),a=i(1006);let r=e=>{if("undefined"==typeof window)return"";let t=0,i=document.querySelector('[data-test-id="header"]');if(null!==i){let{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":let n=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==n){let{height:e}=n.getBoundingClientRect();t+=e}break;case"SearchItem":let a=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==a){let{height:e}=a.getBoundingClientRect();t+=e}let r=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==r){let{height:e}=r.getBoundingClientRect();t+=e}}return`${-1*t}px 0px 0px 0px`},s=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:i})=>(0,n.Z)(e||t||i||0),l=(e,t,i)=>{e?(0,a.My)(`${t}.mute_button.toggle_off`):(0,a.My)(`${t}.mute_button.toggle_on`),i({action:"click",item:"mute-button"})}},830017:(e,t,i)=>{i.d(t,{g:()=>p,I:()=>c});var n=i(667294),a=i(498490),r=i(983272),s=i(605388);let l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=l,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:r}=i,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:o,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,c=(0,s.Z)(d),p=(0,s.Z)(u);return!a&&o?e:(a?c[n]={pinId:n,currentTime:r,paused:!1}:p[n]={pinId:n,currentTime:r,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?o:n,promotedVideosAutoplaying:c,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:i}=t,{pinId:n,isPromoted:a,currentTime:r}=i,{videosAutoplaying:l}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=l,u=(0,s.Z)(o),c=(0,s.Z)(d);return a?u[n]={...u[n],paused:!0,currentTime:r}:c[n]={...c[n],paused:!0,currentTime:r},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=i(785893);let{Provider:u,useHook:c}=(0,a.Z)("AppUI");function p({children:e}){let[t,i]=(0,n.useReducer)(o,l),a=(0,n.useCallback)(e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),s=(0,n.useCallback)(e=>i({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,n.useCallback)(e=>i({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),h=(0,n.useCallback)(e=>i({type:"SET_IS_AUTOPLAY",payload:e}),[]),g=(0,n.useCallback)(e=>i({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,n.useCallback)(e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,n.useMemo)(()=>({pauseAutoplay:a,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:h,setViewportSize:g,toggleTypeaheadOverlay:m,setAppFocusState:s,appUI:t}),[a,c,p,h,g,m,s,t]);return(0,n.useEffect)(()=>{r.Z.onSessionResume(()=>{s(!0)}).onSessionPause(()=>{s(!1)})},[s]),(0,d.jsx)(u,{value:y,children:e})}},414373:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(225669);function a(e){return n.zI.includes(e)}},225669:(e,t,i)=>{i.d(t,{Wv:()=>a,ZF:()=>n,zI:()=>r,zl:()=>s});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],r=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},470761:(e,t,i)=>{i.d(t,{Z:()=>n});let n={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},87416:(e,t,i)=>{i.d(t,{Cy:()=>d,HE:()=>u,Mv:()=>r,Y4:()=>c,dL:()=>a,fS:()=>p,fv:()=>l,lu:()=>h,qS:()=>o,u:()=>g,uc:()=>s});var n=i(788388);let a=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,n.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},l=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},o=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},h=e=>{let t=(0,n.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},g=e=>{let t=(0,n.Z)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},865735:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(225669);function a(e){return n.zl.includes(e??"")||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule"].includes(e??"")?"transparent":"dominant"}},827423:(e,t,i)=>{i.d(t,{C:()=>n,_:()=>s});let n=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),a=({pathname:e})=>/^\/search\/pins\//.test(e),r=({pathname:e,search:t})=>{let i=/^\/search\/pins\/(\?.*)$/.exec(e),n=(t||i&&i[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return n?decodeURIComponent(n[1]):""},s=e=>{let t=[...e].reverse().find(({location:e})=>e&&!n(e));return t&&t.location&&a(t.location)?r(t.location):""}},243583:(e,t,i)=>{i.d(t,{Yg:()=>o,ib:()=>u,nF:()=>p,xX:()=>c});var n=i(297728),a=i(730212),r=i(410150),s=i(415787);let l=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},o=()=>{let{isAuthenticated:e}=(0,a.B)(),t=(0,r.HG)(),{checkExperiment:i}=(0,n.F)();return e&&!t?l({checkExperiment:i}):{logStat:()=>{}}},d=0,u=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=l({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function c({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,n.F)(),t=(0,r.HG)(),{isAuthenticated:i}=(0,a.B)();return c({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},630075:(e,t,i)=>{i.d(t,{Z:()=>I});var n,a=i(667294);i(422578);var r=i(883119),s=i(129666),l=i(384609),o=i(679482),d=i(144326),u=i(945960),c=i(297728),p=i(730212),h=i(107698),g=i(87416),m=i(785893);function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v=void 0!==n?n:n=i(672485),_=e=>{let t=e.reduce((e,t)=>{let{imageSizeMap:i}=t,{height:n,width:a}=i?.["736x"]||i?.["236x"]||{},r=`${a??1}x${n??1}`,s=e[r]?.times||0;return{...e,[r]:{imageHeight:n,imageWidth:a,times:s+1}}},{}),i=Object.keys(t).reduce((e,i)=>t[i].times>e.times?t[i]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:i.imageHeight,imageWidth:i.imageWidth}:null},S=(e,t,i,n,a,s,l,o,d,u,c,p,g,y,v,_)=>{let S;let{imageSizeMap:T,details:E=""}=i,I=236,b=236,f="";s?(I=474,b=T&&Math.min(I/.8,I/((T["564x"]?.width??1)/(T["564x"]?.height??1))),f=T&&T["564x"]?.url):T&&T["736x"]?(b=T&&T["736x"]&&T["736x"].height,I=T&&T["736x"]&&T["736x"].width,f=T&&T["736x"]&&T["736x"].url):T&&T["236x"]&&(b=T&&T["236x"]&&T["236x"].height,I=T&&T["236x"]&&T["236x"].width,f=T&&T["236x"]&&T["236x"].url),g&&y&&(b=Math.min(g*y,b??1)),S=s?`${T?.["564x"]?.url??""} 1x`:[T?.["474x"]&&`${T["474x"].url??""} 2x`,T?.["736x"]&&`${T["736x"].url??""} 3x`,T?.orig&&`${T.orig.url??""} 4x`].filter(Boolean).join(", ");let P=(0,h.GH)(E,t,a),w=p?void 0:b,x=p?void 0:I,{boxHeight:O,boxWidth:A}=v?{boxHeight:v?.imageHeight,boxWidth:v?.imageWidth}:{boxHeight:w,boxWidth:x};return(0,m.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:O??void 0,width:A??void 0,children:(0,m.jsx)(r.xu,{"data-test-id":`carousel-img-${a}`,height:p?c:void 0,width:p||void 0,children:(0,m.jsx)(r.Ee,{_fixCompletedOnLoad:e,alt:P,crossOrigin:_?"anonymous":void 0,fit:p?"cover":"none",naturalHeight:b??1,naturalWidth:I??1,onError:l,onLoad:o,src:f??"",srcSet:S})})},`carousel-slot-${n}-${a}`)},T=({pinId:e,slot:t,slotIndex:i,onError:n,onLoad:a,widthToUse:s,gap:l},o)=>{let{url:d,width:u,height:c}=["564x","736x","474x","236x"].map(e=>t.imageSizeMap?.[e]).find(e=>e?.url)||{},{details:p=""}=t,g=(0,h.GH)(p,o,i);return(0,m.jsx)(r.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:l,width:s,children:(0,m.jsx)(r.zd,{height:"100%",wash:!0,children:(0,m.jsx)(r.Ee,{alt:g,fit:"contain",naturalHeight:c??1,naturalWidth:u??1,onError:n,onLoad:a,src:d??""})})},`carousel-slot-${e}-${i}`)};class E extends a.Component{constructor(...e){super(...e),y(this,"state",{showBadge:!0,startImpressionTimer:!1}),y(this,"renderBadge",()=>{let{carouselData:e,isCloseup:t,showCarouselBadge:i}=this.props;if(!e)return null;let{showBadge:n}=this.state,{carouselSlots:a,index:s}=e;return!t&&i?(0,m.jsx)(r.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:n?.8:0,transition:"opacity .3s"}},"data-test-id":"carousel-badge",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new r.Ry(1),children:(0,m.jsx)(r.xv,{color:"inverse",children:`${(s??0)+1}/${(a??[]).length}`})}):null}),y(this,"onLoadImage",()=>{this.setState({startImpressionTimer:!0}),this.props.onLoad?.()}),y(this,"onImageLoadError",()=>{this.setState({startImpressionTimer:!1}),this.props.onError?.()})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:t}=this.state,{carouselData:i}=e,{carouselData:n}=this.props;if(!i||!n)return;let{index:a}=i,{index:r}=n;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),a!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){let e;let{isCloseup:t,carouselIndex:i,closeupHeight:n,closeupWidth:a=0,widthRatio:s=1,cropHeight:l,cropWidth:d,carouselData:c,disableTransition:p,highResOnly:y,pinId:v,imageSignature:E,isEditMode:I,isDenseView:b,isThirdPartyAd:f,_fixCompletedOnLoad:P}=this.props;if(!c)return null;if(s>1||s<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:w}=c,x=c.index??0,O=void 0!==i?i:x??0,{imageSizeMap:A}=w[O]||{},R=Math.floor((e=t?a:!t&&d||(y?474:b?o.Lo:o.yF))*s),L=A?.["236x"]||{},k=l||L.height||0,C=d||L.width||236,D=n||k/C*R,F=_(w);return(0,m.jsxs)(r.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":E,display:"flex",height:D,minHeight:u.Ml,overflow:"hidden",children:[!I&&this.renderBadge(),(0,m.jsx)(g.lu,{carouselData:{...c,type:"canonical"},impressionType:"Pin",isPaused:!this.state.startImpressionTimer,loggingId:v,slotIndex:x??0,viewParameter:72,viewType:1,children:({impressionTrackerRef:e})=>(0,m.jsx)(r.xu,{ref:e,"data-test-id":`carousel-impression-ref-${v}-${x}`,height:D,overflow:"hidden",position:"absolute",width:R})},`carousel-impression-key-${O}`),(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transition:p?"":"left .3s",left:(0,h.vF)(w.length,R,e,O)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:R*w.length,children:w.map((i,r)=>{if(t){let t=r===w.length-1;return T({pinId:v,slot:i,slotIndex:r,onError:this.onImageLoadError,onLoad:this.onLoadImage,widthToUse:R,gap:R<e&&!t?1:0},this.props.i18n)}return S(P,this.props.i18n,i,v,r,y,this.onImageLoadError,this.onLoadImage,a,n,l,d,D,R,F,f)})})]})}}function I({pinKey:e,...t}){let i=(0,d.ZP)(),{checkExperiment:n}=(0,c.F)(),{isAuthenticated:a}=(0,p.B)(),r=(0,l.Z)(v,e),o=(0,s.Z)(r),u=o&&{...o,carouselSlots:function(e){let t=["236x","474x","564x","736x"].map(t=>{let i=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.height||1/0)),n=Math.min(...e.map(e=>e.imageSizeMap?.[t]?.width||1/0));return{imageKey:t,height:i,width:n}});return e.map(e=>t.reduce((e,{imageKey:t,height:i,width:n})=>e.imageSizeMap?.[t]?{...e,imageSizeMap:{...e.imageSizeMap,[t]:{...e.imageSizeMap[t],height:i,width:n}}}:e,e))}(o.carouselSlots)};return(0,m.jsx)(E,{...t,carouselData:u,checkExperiment:n,i18n:i,imageSignature:r.imageSignature,isAuthenticated:a,pinId:r.entityId})}y(E,"defaultProps",{showCarouselBadge:!0})},107698:(e,t,i)=>{i.d(t,{CU:()=>l,GH:()=>u,Iw:()=>d,c3:()=>g,gA:()=>c,tD:()=>o,vF:()=>p,yR:()=>h});let n=({index:e,numberOfSlides:t,slidesShownPerPosition:i})=>t-e-Math.floor(i)<1,a=({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t,r=({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:n})=>{let a=i-1,s=a*n;return t-s>=e?s:r({index:a,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},s=({containerWidth:e,contentWidth:t,gap:i,index:n,slidesShownPerPosition:s,slotAndGapWidth:l,paddingX:o})=>r({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:l})+a({slidesShownPerPosition:s,slotAndGapWidth:l})-i+(o?2*o:0),l=({containerWidth:e,gap:t,index:i,numberOfSlides:a,slotWidth:r,paddingX:l})=>{let o=r+t,d=o*a;if(d<=e)return 0;let u=e/o,c=n({index:i,numberOfSlides:a,slidesShownPerPosition:u})?s({containerWidth:e,contentWidth:d,gap:t,index:i,slidesShownPerPosition:u,slotAndGapWidth:o,paddingX:l}):i*o;return c?Math.round(-c):0},o=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:a,isHorizontalScrollable:r})=>{let s=a*n+t*(n-1);return 0!==e&&(s<=e||(r?s<=e:Math.abs(l({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:a}))+t>=s-e))},d=({containerWidth:e,currentIndex:t,gap:i,index:n,numberOfSlides:a,slotWidth:r})=>{let s=r+i;return s*a<=e||0===e||l({containerWidth:e,gap:i,index:t,numberOfSlides:a,slotWidth:r})+s*n<e+s},u=(e,t,i)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${i}`,c=({highResOnly:e,slot:t})=>{let{images:i}=t;return e?`${i?.["564x"]?.url??""} 1x`:[i?.["474x"]&&`${i["474x"].url??""} 2x`,i?.["736x"]&&`${i["736x"].url??""} 3x`,i?.orig&&`${i.orig.url??""} 4x`].filter(Boolean).join(", ")},p=(e,t,i,n,a=0)=>{if(i===t)return-(n*t*1);let r=Math.floor(i-t),s=t+a;return n===e-1?-1*n*s+r:-1*n*s},h=(e,t,i,n,a,r)=>{if(!e||t<=0)return 0;let s=Math.floor(i*n);return Math.round((t+(e?.clientWidth||r*s)-s/2)/(s+a))-1},g=(e,t,i,n,a,r)=>{e.current&&t&&e.current.scrollBy({left:(i-n)*(a+r),behavior:"smooth"})}},966875:(e,t,i)=>{i.d(t,{ZP:()=>w});var n,a=i(667294);i(422578);var r=i(883119),s=i(573706),l=i(955937),o=i(384609),d=i(766546),u=i(297728),c=i(707676),p=i(644797),h=i(299897),g=i(179735),m=i(785893);function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v=(0,g.Z)(()=>Promise.all([i.e(97270),i.e(93041),i.e(88782),i.e(95813)]).then(i.bind(i,99773)),void 0,"app-www-video-VideoWrapper"),_=[0,.25,.5,.75,.95,.97],S=[0,.5,.8,.99,1],T={rootMargin:"-64px 0px 0px 0px",threshold:[...h.iM]},E=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3}),I=void 0!==n?n:n=i(981102);function b(){return new Date().getTime()}function f(e){return!!e.volume&&e.volume>0}class P extends a.Component{constructor(e){super(e),y(this,"videoWrapperRef",(0,a.createRef)()),y(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),y(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),y(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),y(this,"handleLoop",()=>{this.videoTime=0}),y(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),y(this,"handleTimeChange",e=>{let{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;let n=1e3*e.time,a=function(e,t,i,n){if(e>t||i<=0)return null;for(let a of n){let n=a*i;if(e<=n&&t>n)return a}return null}(this.videoTime,n,this.currentInterval.videoDuration,_);if("number"==typeof a&&this.props.playing&&!t&&i){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)}),y(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),y(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),y(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),y(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=function(e,t){for(let i=0;i<t.length;i+=1){let n=t[i],a=t[i+1];if(null==a||n<=e&&e<a)return n}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)),S);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:E.PAUSED}):this.startNewInterval({viewability:t}))}),y(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),y(this,"handleClose",()=>{this.startNewInterval()}),y(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=b();this.handleWindowResize=(0,l.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:f(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let i={};f(e)&&!f(this.props)?i.isAudible=!1:!f(e)&&f(this.props)&&(i.isAudible=!0);let n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?E.PLAYING:E.PAUSED:E.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:a,playing:r,surface:s}=this.props,{seeking:l}=this.state,{height:o,width:d,windowHeight:u,windowWidth:c,viewability:p,...h}=t;if(null!=o&&null!=d&&null!=u&&null!=c&&null!=p){let t={...h,gridAutoplay:6904===e&&r&&!l&&("AuthHomefeed"===s||"SearchItem"===s||"RelatedPinGrid"===s||"PdpRelatedPinGrid"===s),height:o,width:d,windowHeight:u,windowWidth:c,viewability:i||p};a({event_type:e,...function(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:i,startTime:n,endTime:a,videoStartTime:r,videoEndTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:g,viewability:m}},component:y,objectId:v,view:_,viewParameter:S,...T}=e;return{component:y,object_id_str:v,view_type:_,view_parameter:S,aux_data:{...T},event_data:{videoEventData:{gridAutoplay:t,videoDuration:i,time:n,endTime:a,videoTime:r,endVideoTime:s,isAudible:l,height:o,width:d,playbackState:u,quartile:c,quartilePercentValue:p,windowHeight:h,windowWidth:g,viewability:m}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=b();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.state.started)return;let{contextLogData:e,setVideoPlayed:t,shouldLogVideoStart:i}=this.props;if(i){let e=b();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime})}t(e.objectId),this.setState({started:!0})}startNewInterval(e){let t=b();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){let{rootMargin:e,surface:t,aspectRatio:i,backgroundColor:n,captions:a,contextLogData:s,controls:l,fallback:o,hlsConfig:u,isAutoPlay:p,loop:h,objectFit:g,onLoadedChange:y,onControlsPause:_,onControlsPlay:S,onSeek:E,onVolumeChange:I,pin:b,playbackRate:f,playing:P,playsInline:w,poster:x,preload:O,seekTime:A,src:R,videoStartTime:L,volume:k,video:C}=this.props,{seeking:D}=this.state;return void 0!==e&&(T.rootMargin=t?(0,c.eL)(t):e),(0,m.jsx)(d.Z,{onVisibilityChange:this.handleVisibilityChange,options:T,children:e=>(0,m.jsx)(r.xu,{ref:t=>{e.current=t,this.videoWrapperRef.current=t},height:"inherit",onContextMenu:this.handleContextMenu,children:(0,m.jsx)(v,{aspectRatio:i,backgroundColor:n,captions:a,contextLogData:s,controls:l,fallback:o,hlsConfig:u,isAutoPlay:p,loop:h,objectFit:g,onControlsPause:_,onControlsPlay:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:y,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:E,onTimeChange:this.handleTimeChange,onVolumeChange:I,pinKey:b,playbackRate:f,playing:!D&&P,playsInline:w,poster:x,preload:O,seekTime:A,src:R,video:C,videoStartTime:L,visible:this.visible,volume:k})})})}}function w(e){let{pinKey:t}=e,i=(0,o.Z)(I,t),{logContextEvent:n}=(0,s.v)(),{checkExperiment:a}=(0,u.F)(),{setVideoPlayed:r}=(0,p.r)(),l=a("web_video_start_log").anyEnabled;return(0,m.jsx)(P,{...e,logContextEvent:n,pin:i,setVideoPlayed:r,shouldLogVideoStart:l})}y(P,"defaultProps",r.nk.defaultProps)},299897:(e,t,i)=>{i.d(t,{Ul:()=>r,VS:()=>n,hy:()=>s,iM:()=>a,j4:()=>l});let n=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],r={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},s=128,l=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},748327:(e,t,i)=>{function n(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i||"",site:t||""}}function a(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{ac:()=>n,ke:()=>a})},227595:(e,t,i)=>{i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(void 0)},855746:(e,t,i)=>{i.d(t,{MM:()=>s,uo:()=>l,wH:()=>r});var n=i(498490),a=i(748327);let{Provider:r,useHook:s}=(0,n.Z)("HandlerId");function l(){let e=s();return(0,a.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/PinVideoWithVisibilityWrapper-c85fe29792010127.mjs.map